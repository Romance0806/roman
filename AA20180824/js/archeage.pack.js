(function(d){function m(){window.emoji=new EmojiConvertor;emoji.init_env();emoji.replace_mode="css";var a=ArcheAge.Url.img("/../lib/emoji/3.2.2/images");emoji.use_sheet=!0;emoji.img_sets.apple.path=a+"/img-apple-64/";emoji.img_sets.apple.sheet=a+"/sheet_apple_64.png"}"undefined"===typeof window.ArcheAge&&(window.ArcheAge={});ArcheAge.namespace=function(a){var a=a.split("."),c=ArcheAge,b;"ArcheAge"===a[0]&&(a=a.slice(1));for(b=0;b<a.length;b+=1)"undefined"===typeof c[a[b]]&&(c[a[b]]={}),c=c[a[b]];
return c};ArcheAge.namespace("LoginUser");ArcheAge.DEFAULT_ERROR_MESSAGE={message:"시스템 오류입니다. 관리자에게 문의해 주십시오!"};ArcheAge.DEFAULT_ERROR_MARK={mark:'<i class="ico_error_alert"></i> '};ArcheAge.executeFunctionByName=function(a,c){for(var b=Array.prototype.slice.call(arguments).splice(2),d=a.split("."),f=d.pop(),g=0;g<d.length;g++)c=c[d[g]];return c[f].apply(this,b)};ArcheAge.ajaxCommonErrorProcessor=function(a,c,b){if(!b.disableGlobalErrorProcessor){ArcheAge.CommonUI.LoadingImage.unloading();var a=ArcheAge.DEFAULT_ERROR_MESSAGE,
e,f;try{if(e=c.getResponseHeader("Content-Type"),(f=null!==e&&0<=e.indexOf("application/json"))&&(a=d.parseJSON(c.responseText)),403===c.status)if(void 0!=c.getResponseHeader("messageKeys")){var g=c.getResponseHeader("messageKeys"),a={message:"",messageKeys:g},h=g.split(","),i;for(i in h)a.message+=ArcheAge.executeFunctionByName(h[i],window)+"\n";"AL10N.Global.loginRequired"!=g&&(a.message+=AL10N.Global.reqCs())}else a={message:AL10N.Global.forbidden()}}catch(q){}a.message||(a=ArcheAge.DEFAULT_ERROR_MESSAGE);
0<a.message.indexOf("<br />")&&(a.message=a.message.replace("<br />","\n"));a.messageKeys&&"AL10N.Global.loginRequired"==a.messageKeys?parent.ArcheAge.CommonUI.confirmLoginRequired():a.messageKeys&&"AL10N.Global.accessDeniedNotCertifiedUser"==a.messageKeys?parent.ArcheAge.CommonUI.confirmCertifyRequired():a.messageKeys&&"AL10N.Global.accessDeniedGuardianAgreeWaitUser"==a.messageKeys?parent.ArcheAge.CommonUI.confirmGuardianAgreeRequired():parent.ArcheAge.alert(a.message)}};d.fn.preventDoubleSubmit=
function(){d(this).submit(function(){if(this.beenSubmitted)return!1;this.beenSubmitted=!0})};var k=d("meta[name='_csrf']").attr("content"),l=d("meta[name='_csrf_header']").attr("content");d(document).ajaxSend(function(a,c,b){0==b.url.indexOf("/")&&(null!=k&&null!=l)&&c.setRequestHeader(l,k)});d.ajaxSetup({cache:!1,dataType:"json",timeout:6E4,type:"post"});d(document).ajaxError(ArcheAge.ajaxCommonErrorProcessor);ArcheAge.cachedScript=function(){var a=arguments[0],c=arguments[1],b=Array.prototype.slice.call(arguments,
1);"string"===typeof c?ArcheAge.getScript(a,function(){ArcheAge.cachedScript.apply(null,b)}):ArcheAge.getScript(a,c)};ArcheAge.getScript=function(a,c){var b={disableGlobalErrorProcessor:!0,dataType:"script",cache:!0,corssDomain:!0,url:a,type:"get"};c?d.ajax(b).done(c):d.ajax(b)};ArcheAge.alert=function(a,c){if(ArcheAge.isMobileView)return alert(a),!1;var b=ArcheAge.Utils.escapeHtml(a),b=b.split("\n").join("<br/>");ArcheAge.alertHtml(b,c)};ArcheAge.alertHtml=function(a,c){var b=d("<div class='layer_comm'><div class='txt'>"+
a+"</div><div class='wrap_btn'><button type='button' class='btn-modal' id='okBtn'>확인</button></div>");d("body").append(b);d("#okBtn",b).bind("click",function(){b.aaModalDialog("destroy");c&&c();return!1});b.aaModalDialog({zIndex:5E4,bgClickObj:d(".layer_comm #okBtn")});b.aaModalDialog("open");d("#okBtn",b).focus();d(".layer_comm").bind("keydown",function(a){27==a.keyCode&&d("#okBtn",b).click()})};ArcheAge.confirm=function(a,c,b,d,f,g){ArcheAge.confirmJson({msg:a,okFn:c,cancelFn:b,okLabel:d,cancelLabel:f,
eventElement:g})};ArcheAge.confirmJson=function(a){var c=a.msg,b=a.okFn,e=a.cancelFn,f=a.okLabel,g=a.cancelLabel,h=a.eventElement,a=a.closeObj;if(ArcheAge.isMobileView)return confirm(c)&&b&&"function"===typeof b&&b(),!1;c=ArcheAge.Utils.escapeHtml(c);c=c.split("\n").join("<br/>");if("undefined"===typeof f||null===f)f="확인";if("undefined"===typeof g||null===g)g="취소";var i=d("<div class='layer_comm'><div class='txt'>"+c+"</div><div class='wrap_btn'><button type='button' class='btn-modal' id='okBtn' style='margin-right:5px;'>"+
f+"</button><button type='button' class='btn-modal' id='cancelBtn'>"+g+"</button></div>");d("#okBtn",i).bind("click",function(){i.aaModalDialog("destroy");"function"===typeof b&&("undefined"===typeof h||null===h?b():b(h));return!1});d("#cancelBtn",i).bind("click",function(){i.aaModalDialog("destroy");try{"function"===typeof e&&e()}catch(a){}return!1});d("body").append(i);i.aaModalDialog({zIndex:5E4,bgClickObj:a});i.aaModalDialog("open");d("#okBtn",i).focus();d(".layer_comm").bind("keydown",function(a){27==
a.keyCode&&d("#cancelBtn",i).click()})};ArcheAge.ajaxLoadAlert=function(a,c){"undefined"===typeof a&&(a=null);var b="";null!==a&&(b="<p class='aa_contents aa_dialog_message'>"+a+"</p>");var c=d.extend({zIndex:5E3},c),e=d("<div class='aa_dialog hidden'>"+b+"    <p class='aa_contents aa_dialog_ajax_load_image'><img  style='margin-left: auto; margin-right: auto' src='"+ArcheAge.Url.img("/images/common/ajax-loader.gif")+"'/></p></div>");d("body").append(e);e.aaModalDialog(c);e.aaModalDialog("open");return function(){e.aaModalDialog("destroy")}};
ArcheAge.imagePreview=function(){var a=d("span.imagePreview.needBinding");a.hover(function(a){this.t=this.title;this.title="";var b=""!==this.t?"<br/>"+this.t:"",e=d(this).data("preview");d("body").append("<p id='imagePreview'><img src='"+e+"' alt='Image preview' />"+b+"</p>");d("#imagePreview").css("top",a.pageY-50+"px").css("left",a.pageX+30+"px").fadeIn("fast")},function(){this.title=this.t;d("#imagePreview").remove()});a.mousemove(function(a){d("#imagePreview").css("top",a.pageY-50+"px").css("left",
a.pageX+30+"px")});a.removeClass("needBinding")};d.fn.justOwnText=function(){return d(this).clone().children().remove().end().text()};d.fn.tooltip=function(a){var a=d.extend({xOffset:10,yOffset:20,message:null},d.fn.tooltip.defaults,a),c=a.xOffset,b=a.yOffset,e=a.message,a=d(this);a.hover(function(a){null===e&&(this.t=this.title,this.title="",e=this.t);d("body").append("<p id='tooltip'>"+e+"</p>");d("#tooltip").css("top",a.pageY-c+"px").css("left",a.pageX+b+"px").fadeIn("fast")},function(){"undefined"!==
typeof this.t&&(this.title=this.t);d("#tooltip").remove()});a.mousemove(function(a){d("#tooltip").css("top",a.pageY-c+"px").css("left",a.pageX+b+"px")})};d.fn.aaModalDialog=function(a){function c(){var a=e.docWindow.width(),c=e.docWindow.height(),d=null!==e.windowWidth&&null!==e.windowHeight;d&&(a=e.windowWidth,c=e.windowHeight);var h=e.top;null==e.top&&(h=(c-b.outerHeight())/2,0>h&&(h=0));a=(a-b.outerWidth())/2;0>a&&(a=0);!d&&ArcheAge.Utils.isArcheAgeBrowser()&&(h=10,a=20);b.css({top:h+"px",left:a+
"px"})}var b=this;b.wrapperContent=d("#wrapperContent");b.fixableBody=1==b.wrapperContent.length;var e=d.extend(d.fn.aaModalDialog.defaults,a);void 0==e.docBody&&(e.docBody=d("body"));void 0==e.docWindow&&(e.docWindow=d(window));if("string"===typeof a)a:{var f=b.parent();switch(a){case "close":f.addClass("hidden");break;case "open":if(b.fixableBody){e.docBody.prop("scrollHeight")>e.docBody.prop("clientHeight")&&e.docBody.css("overflow-y","scroll");e.docBody.width()==e.docWindow.width()&&b.wrapperContent.css("width",
"100%");e.docBody.find(":enabled").attr("disabled","disabled").addClass("__modal-disabled");e.docBody.find("div.aa_modal").removeAttr("disabled").removeClass("__modal-disabled");e.docBody.find("div.aa_modal").find(".__modal-disabled").removeAttr("disabled").removeClass("__modal-disabled");var g=d(window).scrollTop(),h=d(window).scrollLeft();b.wrapperContent.addClass("pos-fixed").css("top",-g+"px").css("left",-h+"px")}f.removeClass("hidden");d(window).trigger("resize.modal");if(!e.bgClickObj)break a;
var i=1<=e.bgClickObj.length?e.bgClickObj:d(e.bgClickObj.selector);if(1<=i.length)d(".aa_modal_bg").off("click").one("click",function(){i.trigger("click")});break;case "destroy":a=1==d("div.aa_modal").length,b.fixableBody&&a&&(e.docBody.find(".__modal-disabled").removeAttr("disabled").removeClass("__modal-disabled"),e.docBody.css("overflow-y",""),g=b.wrapperContent.css("top"),g=String(g).replace("px",""),h=b.wrapperContent.css("left"),h=String(h).replace("px",""),g=Math.abs(g),h=Math.abs(h)),f.remove(),
b.fixableBody&&a&&(b.wrapperContent.removeClass("pos-fixed").css("top","").css("left","").css("width",""),d(window).scrollTop(g).scrollLeft(h)),d(window).off("resize.modal")}}else f=d('<div class="aa_modal" />'),b.css({position:"absolute","z-index":2}).data("options",e).data("modalContainer",f),f.addClass("hidden").css("z-index",e.zIndex).append('<div class="aa_modal_bg" />').append(b),e.opacity&&f.find(".aa_modal_bg").css("opacity",e.opacity),e.docBody.append(f),d(window).off("resize.modal").on("resize.modal",
c);return b};d.fn.aaModalDialog.defaults={zIndex:1,windowWidth:null,windowHeight:null,top:null,docBody:d("body"),docWindow:d(window)};ArcheAge.namespace("Utils");ArcheAge.Utils.unbindClickBtn=function(a){a.unbind("click")};ArcheAge.Utils.isRestrictedAccount=function(){return ArcheAge.LoginUser.isRestrictedAccount?(ArcheAge.alert(AL10N.Notice.restrictedAccount()),!0):!1};ArcheAge.Utils.isArcheAgeBrowser=function(){return 0<navigator.userAgent.indexOf("ArcheAge")};ArcheAge.Utils.isIE7=function(){return 0<
navigator.userAgent.indexOf("MSIE 7")};ArcheAge.Utils.isIE8=function(){return 0<navigator.userAgent.indexOf("MSIE 8")};ArcheAge.Utils.isIE9=function(){return 0<navigator.userAgent.indexOf("MSIE 9")};ArcheAge.Utils.isIE=function(){var a=navigator.userAgent;return 0<=a.indexOf("MSIE")||!!a.match(/Trident.*rv\:/)};ArcheAge.Utils.getIEversion=function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var c=navigator.userAgent,b=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=b.exec(c)&&(a=parseFloat(RegExp.$1))}else"Netscape"==
navigator.appName&&(c=navigator.userAgent,b=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=b.exec(c)&&(a=parseFloat(RegExp.$1)));return a};ArcheAge.Utils.stripTags=function(a){return!a?a:a.replace(/(<([^>]+)>)/ig,"")};ArcheAge.Utils.getText=function(a){if(!d.browser.msie)return a.text();a=a.html();a=a.replace(/<BR\s*\/?>/mgi,"\n");return a=ArcheAge.Utils.stripTags(a)};ArcheAge.Utils.removeCr=function(a){return d.trim(a)};ArcheAge.Utils.getHttpUrl=function(a){return!a||0!==a.indexOf("//")?a:"http:"+a};
ArcheAge.Utils.bindTextLengthWarning=function(a,c,b){b||(b=ArcheAge.Utils.bindTextLengthWarning.defaultGetLengthCallback);a.bind("keyup",function(){d(this).val();var e=b(a);if(!e&&0!==e)throw Error("getLengthCallback returns nothing.");e>c?d(this).addClass("warning"):d(this).removeClass("warning")})};ArcheAge.Utils.bindTextLengthWarning.defaultGetLengthCallback=function(a){return a.val().length};ArcheAge.Utils.bindTextLengthError=function(a,c,b,d){d||(d=ArcheAge.Utils.bindTextLengthWarning.defaultGetLengthCallback);
a.bind("keyup",function(){var f=d(a);if(!f&&0!==f)throw Error("getLengthCallback returns nothing.");f>c?b(!0):b(!1)})};ArcheAge.Utils.isNumber=function(a){return/^-?((\d+\.?\d?)|(\.\d+))$/.test(a)};ArcheAge.Utils.escapeHtml=function(a){if(null===a||0===a.length)return"";a=a.toString().replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");a=a.replace(/"/g,"&quot;");return a=a.replace(/'/g,"&#39;")};ArcheAge.Utils.isImageFile=function(a){if(!a||"undefined"===typeof a)return!1;"string"!==
(typeof a).toLowerCase()&&(a=a.name);a=a.toLowerCase();return a.match(/.*\.(jpe?g|png|gif)$/i)};ArcheAge.Utils.isTextFile=function(a){if(!a||"undefined"===typeof a)return!1;"string"!==(typeof a).toLowerCase()&&(a=a.name);a=a.toLowerCase();return a.match(/.*\.(txt)$/i)};ArcheAge.Utils.getAjaxFormDataValue=function(a,c){var b;for(b=0;b<a.length;b+=1)if(c===a[b].name){b=a[b].value;if("string"===typeof b)return b;if(b instanceof File)return b.name;throw"Unknown field type : "+c;}return null};ArcheAge.Utils.getOS=
function(){var a=navigator.userAgent;return-1<a.indexOf("NT 6.1")?"Windows 7":-1<a.indexOf("NT 6.0")?"Windows Vista/Server 2008":-1<a.indexOf("NT 5.2")?"Windows Server 2003":-1<a.indexOf("NT 5.1")?"Windows XP":-1<a.indexOf("NT 5.0")?"Windows 2000":-1<a.indexOf("NT")?"Windows NT":-1<a.indexOf("9x 4.90")?"Windows Me":-1<a.indexOf("98")?"Windows 98":-1<a.indexOf("95")?"Windows 95":-1<a.indexOf("Win16")?"Windows 3.x":-1<a.indexOf("Windows")?"Windows":-1<a.indexOf("Linux")?"Linux":-1<a.indexOf("Macintosh")?
"Macintosh":""};ArcheAge.Utils.random=function(a){for(var c=(""+a).length,b=1,d=0;d<=c;d++)b*=10;return Math.floor(Math.random()*b)%a};ArcheAge.Utils.makeHitCountCookie=function(a,c){var b=d.cookie(a);if(null!=b){var e=b.split("|"),f;for(f in e)if(c==e[f])return;3E3<b.length&&(b=b.substring(b.indexOf("|")+1));b+="|"+c}else b=c;e=new Date;e.setTime(e.getTime()+864E5);d.cookie(a,b,{path:"/",expires:e,raw:!0})};"undefined"===typeof window.console&&(window.console={},console.log=function(){});ArcheAge.Localization=
{message:function(a){return function(){var c=[a],c=c.concat(Array.prototype.slice.apply(arguments));return ArcheAge.Localization.format.apply(null,c)}},format:function(a){var c,b;if(1>=arguments.length)return a;c=arguments.length-2;for(b=0;b<=c;b+=1)a=a.replace(RegExp("\\{"+b+"\\}","gi"),arguments[b+1]);return a}};window.AL10N={};ArcheAge.Url={character:function(a){return"/characters/"+a},diary:function(a){return ArcheAge.Url.character(a)},Attachment:{url:function(a){return ArcheAge.attachmentServerUrl+
a},original:function(a){var c=a;"object"===typeof a&&(c=a.originalUri);return ArcheAge.Url.Attachment.url(c)},small:function(a){var c=a;"object"===typeof a&&(c=a.smallUri);return ArcheAge.Url.Attachment.url(c)},thumbnail:function(a){var c=a;"object"===typeof a&&(c=a.thumbnailUri);return ArcheAge.Url.Attachment.url(c)}},getStaticServerId:function(a){if(null===a||0===d.trim(a).length)throw Error("filepath value ["+a+"] is empty");var c=ArcheAge.staticServerUrls.length,a=a.replace(/\.[^\..]*$/,"");return a.charCodeAt(a.length-
1)%c},staticUrl:function(a,c,b){if(!a)throw Error("ArcheAge.Url.staticUrl uri을 지정하지 않았음.");if("undefined"===typeof c||null===c)c=!0;if("undefined"===typeof b||null===b||0>b||b>=ArcheAge.staticServerUrls.length)b=ArcheAge.Url.getStaticServerId(a);b=ArcheAge.staticServerUrls[b];c&&(b=b+ArcheAge.resourcePrefix+"/archeage");return b+a},img:function(a,c){return ArcheAge.Url.staticUrl(a,c)},swf:function(a){return ArcheAge.Url.staticUrl(a,!0,ArcheAge.staticServerUrls.length-1)},mapImg:function(a){return ArcheAge.Url.img(a,
!1)},jslib:function(a){return ArcheAge.Url.staticUrl(a,!1)},style:function(a,c){return ArcheAge.Url.staticUrl(a,c)},resource:function(a){return ArcheAge.resourcePrefix+a}};ArcheAge.goLink=function(a,c,b){c=null==c?"/":c;ArcheAge.isNaverDomain()&&null!=b&&(c=b);"faq"==a?location.href=ArcheAge.domains.cs+c:"xlcash"==a?location.href=ArcheAge.domains.xlcache+c:"security"==a?location.href=ArcheAge.domains.cs+c:"member"==a&&(0<=document.domain.indexOf("naver")?ArcheAge.alert("XLGAMES 회원이 이용할 수 있는 서비스입니다."):
location.href=ArcheAge.domains.account+c)};ArcheAge.isNaverDomain=function(){return 0<=document.domain.indexOf("naver")?!0:!1};ArcheAge.namespace("Web");ArcheAge.Web.isLogined=function(){return"boolean"==typeof ArcheAge.LoginUser.isGuest&&!ArcheAge.LoginUser.isGuest};ArcheAge.Web.hasCharacters=function(){return!(null===ArcheAge.LoginUser.representativeUserCharacter||void 0===ArcheAge.LoginUser.representativeUserCharacter||void 0===ArcheAge.LoginUser.representativeUserCharacter.uuid)};ArcheAge.Web.CharacterTooltip=
{containerClass_:"character_layer",charHome_:function(a){return ArcheAge.domains.play+"/characters/"+a+"/informations"},show:function(a,c){var b=this;b.option=c||{};ArcheAge.Web.CharacterTooltip.hide();var e=a.attr("data-uuid");if(void 0!==e){var f=a.data("checked");void 0!=f?b._showInternal(a,f):d.ajax({url:ArcheAge.domains.play+"/characters/"+e+"/profile",type:"get",dataType:"jsonp",crossDomain:!0,success:function(c){ArcheAge.Utils.isIE7();b._showInternal(a,c)}})}},_showInternal:function(a,c){var b=
this,e=!1;void 0!=c.result&&"failure"==c.result&&(e=!0);var f=a.attr("data-uuid"),g=d("<div></div>").addClass(b.containerClass_),h="<ul>";void 0!=c.networks&&(h+='<li><a href="'+c.networks+'">홈 바로가기</a></li>');h+='<li><a href="'+ArcheAge.domains.play+"/characters/"+f+'">캐릭터 정보보기</a></li>';ArcheAge.Web.hasCharacters()&&(!ArcheAge.LoginUser.isRestrictedAccount&&!ArcheAge.LoginUser.isReserveCancelingUser&&(h=e?h+('<li><a href="#" onclick="ArcheAge.alert(\''+c.message+"');return false;\">메시지 보내기</a></li>"):
h+('<li><a href="#" onclick="return ArcheAge.CommonUI.Message.showform(\''+f+"')\">메시지 보내기</a></li>")),d.isFunction(b.subMenu)&&(h+=b.subMenu(f)));d.isFunction(b.option,a)&&(h+=b.option(f,a));g.append(h+"</ul>");a.parents("span.character_card").append(g);ArcheAge.Utils.isIE7()&&a.parents().each(function(){var a=d(this).css("position");("relative"==a||"absolute"==a)&&d(this).addClass("oldie-zIndex")});g.on("click",function(){b.hide()});g.on("clickoutside",function(){b.hide()});g.mouseleave(function(){})},
hide:function(){d("."+this.containerClass_).unbind("clickoutside").remove();ArcheAge.Utils.isIE7()&&d(".oldie-zIndex").removeClass("oldie-zIndex")}};var n=function(a,c){var b=c.find("strong").html(),d=c.parent().find(".character_server").html(),b='<li class="hr"><a href="'+(ArcheAge.services.community.path+"/?searchType=CHARACTER_UUID&keyword="+a+"&uuidCharacterName="+encodeURI(b+d))+'">게시글 모아보기</a></li>';if(ArcheAge.LoginUser.isGuest)return b;for(var f in ArcheAge.LoginUser.characters)if(ArcheAge.LoginUser.characters[f].uuid===
a)return b;return b+'<li><a href="#" onclick="new ArcheAge.Blind(\''+a+"').process(); return false;\">글 차단/해제</a></li>"};ArcheAge.Web.bindCharacterLink=function(a,c){a||(a=d("body"));a.find(".character-link.needBinding").each(function(){var a=d(this);a.removeClass("needBinding");a.hover(function(){a.css("text-decoration","underline")},function(){d(this).css("text-decoration","")}).focus(function(){d(this).blur()}).on("click",function(d){d.preventDefault();if(c===ArcheAge.services.community||c===ArcheAge.services.community.type)c=
n;try{ArcheAge.Web.CharacterTooltip.show(a,c)}catch(f){console.log(f)}})})};var p=ArcheAge,j;try{j=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")?!0:!1}catch(r){j=!(!navigator.mimeTypes||!navigator.mimeTypes["application/x-shockwave-flash"]||!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)}p.isFlashEnabled=j;d.fn.bindClickGA=function(a){var c=this;c.opt=a||{};c.off("click.ga").on("click.ga",function(a){var e=d(this),f=e.parents("[data-action]").eq(0),g=e.attr("href"),h=e.data("action")||
f.data("action")||c.opt.action,f=e.data("category")||f.data("category")||c.opt.category;if(!g||""===g||"#none"===g||"javascript:;"===g)g="";var i=d(this).data("label")||g||"none";(e="_blank"===e.attr("target"))||a.preventDefault();ArcheAge.sendEventGA({category:f,action:h,label:i,linkUrl:g,isPopup:e})})};ArcheAge.sendEventGA=function(a){if(a.category&&a.action){var c=a.linkUrl;if(!c||""===c||"#none"===c||"javascript:;"===c)c="";if(a.isPopup||!c)ga("send","event",a.category,a.action,a.label||"none");
else{var b=ga,d=a.category,f=a.action,g=a.label||c||"none",h=a.hitCallback||function(){location.href=c},a=function(){i||(i=!0,h())},i=!1;setTimeout(a,300);b("send","event",d,f,g,{hitCallback:a})}}};ArcheAge.scrollEventGA=function(a,c){var b=d(window),e=c||[25,50,75,90,100];if(0<b.scrollTop()){var f=100*((b.scrollTop()+b.height())/d(document).height());d.each(e.slice(0),function(a,b){b<=f&&e.shift()})}b.on("scroll",function(){for(var c in e)if(b.scrollTop()+b.height()>=d(document).height()*e[c]/100){ga("send",
"event","scroll",a,e.shift()+"%");break}})};d.aa={replaceAll:function(a,c,b){return a.split(c).join(b)},isEmpty:function(a){return null==a||("undefined"==a||"undefined"==typeof a)||"string"==typeof a&&(a=this.replaceAll(a,/\s+/g,""),""==a)?!0:!1},isEmptyText:function(a,c){return this.isEmpty(a.val())?(alert(c),a.focus(),!0):!1},isRegnum:function(a){for(var a=a.replace(/[^0-9]+/g,""),c=1,b=0,d=0;12>d;d++)8<c&&(c=1),c++,b+=parseInt(a.charAt(d),10)*c;c=11-b%11;10==c&&(c=0);11==c&&(c=1);return c==parseInt(a.charAt(12),
10)?!0:!1},isCount:function(a,c,b){b=new String(b);b=b.length;return b<c&&"min_length"==a||b>c&&"max_length"==a?!1:!0},getAnchor:function(a){return(a=a.match(RegExp(/#(.*)$/)))&&a[1]?a[1]:""},noArticle:function(a){alert(a+"이 없습니다.");return!1}};d.fn.makeOutLink=function(){d(this).each(function(){d(this).attr("target","_blank")})};d.fn.archeAgeEmoji=function(){window.emoji||m();emoji.colons_mode=!1;return this.each(function(){d(this).html(function(a,c){return emoji.replace_colons(c)})})};d.fn.emoji_value=
function(){window.emoji||m();var a=d(this).val();emoji.colons_mode=!0;a=emoji.replace_unified(a);d(this).val(a)};d.fn.embedVideos=function(a){if(ArcheAge.isFlashEnabled||!ArcheAge.Utils.isIE8()){var a=!!a,c=600;ArcheAge.isMobileBrowser&&ArcheAge.isMobileView&&(c=d(window).width()-30);var b,e=[{name:"youtube",urlfetcher:"a[href*='youtube.com/watch?']",codeRegex:/[\?|&]v=([a-zA-Z0-9\-_]+)\b/,generateTags:function(a){a=ArcheAge.Utils.escapeHtml(a);return'<div style="margin: 10px 0"><iframe title="YouTube video player" width="'+
c+'" height="365" src="https://www.youtube.com/embed/'+a+'?showinfo=0&rel=0&wmode=transparent" frameborder="0" allowfullscreen></iframe></div>'}},{name:"youtu.be",urlfetcher:"a[href*='//youtu.be/']",codeRegex:/youtu\.be\/([a-zA-Z0-9\-_]+)\b/,generateTags:function(a){a=ArcheAge.Utils.escapeHtml(a);return'<div style="margin: 10px 0"><iframe title="YouTube video player" width="'+c+'" height="365" src="https://www.youtube.com/embed/'+a+'?showinfo=0&rel=0&wmode=transparent" frameborder="0" allowfullscreen></iframe></div>'}},
{name:"Vimeo",urlfetcher:"a[href^='http://vimeo.com/']",codeRegex:/vimeo.com\/([0-9]+)\b/,generateTags:function(a){a=ArcheAge.Utils.escapeHtml(a);return'<div style="margin: 10px 0"><iframe src="https://player.vimeo.com/video/'+a+'?portrait=0" width="'+c+'" height="365" frameborder="0"></iframe></div>'}},{name:"Vimeo_https",urlfetcher:"a[href^='https://vimeo.com/']",codeRegex:/vimeo.com\/([0-9]+)\b/,generateTags:function(a){a=ArcheAge.Utils.escapeHtml(a);return'<div style="margin: 10px 0"><iframe src="https://player.vimeo.com/video/'+
a+'?portrait=0" width="'+c+'" height="365" frameborder="0"></iframe></div>'}},{name:"Naver Blog IFrame",urlfetcher:"a[href*='naver.com/flash/convertIframeTag.nhn']",codeRegex:/(.*)/,generateTags:function(a){a=ArcheAge.Utils.escapeHtml(a);a=a.replace("http:","https:");return'<div style="margin:10px 0"><iframe width="'+c+'" height="365" src="'+a+'" frameborder="0" scrolling="no"></iframe></div>'}},{name:"KAKAO TV IFrame",urlfetcher:"a[href*='//tv.kakao.com/v/']",codeRegex:/\/v\/([a-zA-Z0-9\-_]+)\b/,
generateTags:function(a){a=ArcheAge.Utils.escapeHtml(a);a=a.replace("http:","https:");return'<div style="margin:10px 0"><iframe width="'+c+'" height="365" src="https://tv.kakao.com/embed/player/cliplink/'+a+'?service=kakao_tv" frameborder="0" scrolling="no" allowfullscreen></iframe></div>'}},{name:"KAKAO TV IFrame",urlfetcher:"a[href*='//tv.kakao.com/channel']",codeRegex:/\/cliplink\/([a-zA-Z0-9\-_]+)\b/,generateTags:function(a){a=ArcheAge.Utils.escapeHtml(a);a=a.replace("http:","https:");return'<div style="margin:10px 0"><iframe width="'+
c+'" height="365" src="https://tv.kakao.com/embed/player/cliplink/'+a+'?service=kakao_tv" frameborder="0" scrolling="no" allowfullscreen></iframe></div>'}}],f=d(this);for(b=0;b<e.length;b+=1){var g=e[b];(ArcheAge.isFlashEnabled||!g.flash)&&d(g.urlfetcher,f).each(function(){var b=d(this),c;c=b.attr("href").match(g.codeRegex);c=null===c?null:c[1];var e=b.next("br"),f=g.generateTags(c),j=d(f);a&&(j.hide(),f=d(" <button class='video_toggle'>동영상 보기<i class='ico_open_view'></i></button>"),d("i",f),f.insertAfter(b),
f.on("click",function(){j.toggle();var a=d(this);a.html("");j.is(":visible")?(a.text("동영상 닫기"),a.append("<i class='ico_close_view'></i>")):(a.text("동영상 보기"),a.append("<i class='ico_open_view'></i>"));return!1}));1===e.get().length?j.insertBefore(e):j.appendTo(b.parent());g.afterInsertCallback&&g.afterInsertCallback(c,a)})}}};d.fn.embedVideos.soundcloundId=0;d.fn.inputSelector=function(){this.mouseup(function(){var a=d(this),c=!1,b=d(this).get(0);if(document.selection)b.focus(),0<document.selection.createRange().text.length&&
(c=!0);else if(b.selectionStart||"0"===b.selectionStart)b=b.selectionEnd-b.selectionStart,0<b&&(c=!0);a.hasClass("text-selected")?a.removeClass("text-selected"):(a.addClass("text-selected"),c||a.select())})};d.fn.openWindow=function(){this.click(function(){var a=d(this),c=a.attr("href"),b=a.attr("window-title"),a=a.data("features");window.open(c,b,a);return!1})};d.fn.imgPreload=function(){this.each(function(){d("<img/>")[0].src=ArcheAge.Url.img(this)})}})(jQuery);
(function(){var d=!1,m=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;window.Class=function(){};Class.extend=function(k){function l(){!d&&this.init&&this.init.apply(this,arguments)}var n=this.prototype;d=!0;var p=new this;d=!1;for(var j in k)p[j]="function"===typeof k[j]&&"function"===typeof n[j]&&m.test(k[j])?function(d,a){return function(){var c=this._super;this._super=n[d];var b=a.apply(this,arguments);this._super=c;return b}}(j,k[j]):k[j];l.prototype=p;l.prototype.constructor=l;l.extend=window.Class.extend;
return l}})();